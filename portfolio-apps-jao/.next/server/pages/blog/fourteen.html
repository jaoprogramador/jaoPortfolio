<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Blog - OAuth con Spring Security: Autenticación y Autorización en Aplicaciones Java</title><meta name="description" content="OAuth es un estándar de autorización ampliamente utilizado para permitir que las aplicaciones accedan a recursos de usuarios sin compartir sus credenciales. En este post, te explicamos cómo configurar OAuth con Spring Security en una aplicación Java."/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/e99fcc8540a81b1c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e99fcc8540a81b1c.css" data-n-g=""/><link rel="preload" href="/_next/static/css/f8f60675323764f2.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f8f60675323764f2.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-570070fdbf91d417.js" defer=""></script><script src="/_next/static/chunks/framework-75db3117d1377048.js" defer=""></script><script src="/_next/static/chunks/main-6d31f1caf3df54dd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5f8ee1ef90dcf6c7.js" defer=""></script><script src="/_next/static/chunks/94726e6d-c72a854d4bfca4da.js" defer=""></script><script src="/_next/static/chunks/144-4ce2b94271136310.js" defer=""></script><script src="/_next/static/chunks/996-f3cf67c2e3ac5e06.js" defer=""></script><script src="/_next/static/chunks/581-aae012922ce60763.js" defer=""></script><script src="/_next/static/chunks/941-ca823945d5078c94.js" defer=""></script><script src="/_next/static/chunks/924-dbd55959fd098bb5.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-c171fda68c6d5435.js" defer=""></script><script src="/_next/static/c1IYPjHs-tvPFIcbE7AQ-/_buildManifest.js" defer=""></script><script src="/_next/static/c1IYPjHs-tvPFIcbE7AQ-/_ssgManifest.js" defer=""></script><script src="/_next/static/c1IYPjHs-tvPFIcbE7AQ-/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="container mx-auto mt-10 cursor-none"><div class="block tablet:hidden mt-5"><div class="flex items-center justify-between p-2 laptop:p-0"><h1 class="font-medium p-2 laptop:p-0 link">JAO<!-- -->.<!-- --></h1><div class="flex items-center"><select class="ml-2 p-1 border rounded transition-all duration-300 ease-out
        bg-white text-black border-gray-300
        hover:scale-105 active:scale-100 cursor-none undefined"><option value="es">🇪🇸 Castellano<!-- --></option><option value="en" selected="">🇬🇧 English<!-- --></option><option value="eu">🇪🇺 Euskera<!-- --></option></select><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined"><img class="h-6" src="/images/sun.svg" alt="Toggle theme"/></button><button id="headlessui-popover-button-:R4n6:" type="button" aria-expanded="false"><img class="h-5" src="/images/menu.svg" alt="Menu toggle"/></button></div></div></div><div class="mt-10 hidden flex-row items-center justify-between sticky dark:text-white top-0 z-10 tablet:flex"><h1 class="font-medium cursor-pointer">JAO<!-- -->.<!-- --></h1><div class="flex"><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Home</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Work</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">About</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Blog</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Frameworks</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Resume</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Contact</button><select class="ml-2 p-1 border rounded transition-all duration-300 ease-out
        bg-white text-black border-gray-300
        hover:scale-105 active:scale-100 cursor-none undefined"><option value="es">🇪🇸 Castellano<!-- --></option><option value="en" selected="">🇬🇧 English<!-- --></option><option value="eu">🇪🇺 Euskera<!-- --></option></select></div></div><div class="mt-10 flex flex-col"><img class="w-full h-96 rounded-lg shadow-lg object-cover" src="/images/blogs/moritz-ludtke-K4n6CW8so84-unsplash.jpg" alt="OAuth con Spring Security: Autenticación y Autorización en Aplicaciones Java"/><h1 class="mt-10 text-4xl mob:text-2xl laptop:text-6xl text-bold">OAuth con Spring Security: Autenticación y Autorización en Aplicaciones Java</h1><h2 class="mt-2 text-xl max-w-4xl text-darkgray opacity-50">Aprende a integrar OAuth en tus aplicaciones Java usando Spring Security.</h2></div><div class="markdown-class"><h1>Introducción a OAuth con Spring Security<!-- --></h1>
<!-- --><p><strong>OAuth<!-- --></strong> es un protocolo de autorización que permite a las aplicaciones acceder a recursos de un usuario en otro servicio (como Google, GitHub o LinkedIn) sin compartir sus credenciales. <!-- --><strong>Spring Security<!-- --></strong> es un framework de seguridad para aplicaciones Java que facilita la integración de OAuth en tu aplicación.<!-- --></p>
<!-- --><h2>¿Por qué usar OAuth con Spring Security?<!-- --></h2>
<!-- --><ol>
<!-- --><li><strong>Seguridad<!-- --></strong>: No es necesario almacenar contraseñas de usuarios.<!-- --></li>
<!-- --><li><strong>Integración sencilla<!-- --></strong>: Spring Security proporciona soporte nativo para OAuth 2.0.<!-- --></li>
<!-- --><li><strong>Escalabilidad<!-- --></strong>: Puedes integrar múltiples proveedores de OAuth (Google, GitHub, etc.).<!-- --></li>
<!-- --></ol>
<!-- --><hr/>
<!-- --><h2><strong>Configuración de OAuth con Spring Security<!-- --></strong></h2>
<!-- --><p>Para configurar OAuth en una aplicación Spring Boot, sigue estos pasos:<!-- --></p>
<!-- --><h3>1. <!-- --><strong>Agregar Dependencias<!-- --></strong></h3>
<!-- --><ul>
<!-- --><li>En tu archivo <!-- --><code>pom.xml<!-- --></code>, agrega las dependencias de Spring Security y OAuth:<!-- -->
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-xml" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">dependency<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">groupId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>org.springframework.boot<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">groupId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">artifactId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>spring-boot-starter-security<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">artifactId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">dependency<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">dependency<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">groupId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>org.springframework.boot<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">groupId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">artifactId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>spring-boot-starter-oauth2-client<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">artifactId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">dependency<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span></code></div></pre>
<!-- --></li>
<!-- --></ul>
<!-- --><h3>2. <!-- --><strong>Configurar el Proveedor de OAuth<!-- --></strong></h3>
<!-- --><ul>
<!-- --><li>En tu archivo <!-- --><code>application.yml<!-- --></code> o <!-- --><code>application.properties<!-- --></code>, configura las credenciales de tu proveedor de OAuth (por ejemplo, Google):<!-- -->
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-yaml" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token key" style="color:#f1fa8c">spring<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span>
<!-- --></span><span>  <!-- --></span><span class="token key" style="color:#f1fa8c">security<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token key" style="color:#f1fa8c">oauth2<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span>
<!-- --></span><span>      <!-- --></span><span class="token key" style="color:#f1fa8c">client<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span>
<!-- --></span><span>        <!-- --></span><span class="token key" style="color:#f1fa8c">registration<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span>
<!-- --></span><span>          <!-- --></span><span class="token key" style="color:#f1fa8c">google<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span>
<!-- --></span><span>            <!-- --></span><span class="token key" style="color:#f1fa8c">client-id<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> TU_CLIENT_ID
<!-- --></span><span>            <!-- --></span><span class="token key" style="color:#f1fa8c">client-secret<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> TU_CLIENT_SECRET
<!-- --></span><span>            <!-- --></span><span class="token key" style="color:#f1fa8c">scope<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> email<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span>profile
<!-- --></span><span>        <!-- --></span><span class="token key" style="color:#f1fa8c">provider<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span>
<!-- --></span><span>          <!-- --></span><span class="token key" style="color:#f1fa8c">google<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span>
<!-- --></span><span>            <!-- --></span><span class="token key" style="color:#f1fa8c">authorization-uri<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> https<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span>//accounts.google.com/o/oauth2/auth
<!-- --></span><span>            <!-- --></span><span class="token key" style="color:#f1fa8c">token-uri<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> https<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span>//oauth2.googleapis.com/token
<!-- --></span><span>            <!-- --></span><span class="token key" style="color:#f1fa8c">user-info-uri<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> https<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span>//openidconnect.googleapis.com/v1/userinfo<!-- --></span></code></div></pre>
<!-- --></li>
<!-- --></ul>
<!-- --><h3>3. <!-- --><strong>Configurar Spring Security<!-- --></strong></h3>
<!-- --><ul>
<!-- --><li>Crea una clase de configuración para Spring Security:<!-- -->
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-java" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">import<!-- --></span><span> <!-- --></span><span class="token">org<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">springframework<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">context<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">annotation<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">Bean<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">import<!-- --></span><span> <!-- --></span><span class="token">org<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">springframework<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">context<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">annotation<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">Configuration<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">import<!-- --></span><span> <!-- --></span><span class="token">org<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">springframework<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">security<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">config<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">annotation<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">web<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">builders<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">HttpSecurity<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">import<!-- --></span><span> <!-- --></span><span class="token">org<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">springframework<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">security<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">config<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">annotation<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">web<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">configuration<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">EnableWebSecurity<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">import<!-- --></span><span> <!-- --></span><span class="token">org<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">springframework<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">security<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">web<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">SecurityFilterChain<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span>
<!-- --><span></span><span class="token annotation" style="color:#f8f8f2">@Configuration<!-- --></span><span>
<!-- --></span><span></span><span class="token annotation" style="color:#f8f8f2">@EnableWebSecurity<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">class<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">SecurityConfig<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span>
<!-- --><span>    <!-- --></span><span class="token annotation" style="color:#f8f8f2">@Bean<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">SecurityFilterChain<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">securityFilterChain<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f1fa8c">HttpSecurity<!-- --></span><span> http<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">throws<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">Exception<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span>        http
<!-- --><span>            <!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">authorizeHttpRequests<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span>auth <!-- --></span><span class="token" style="color:#f8f8f2">-&gt;<!-- --></span><span> auth
<!-- --></span><span>                <!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">requestMatchers<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;/&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;/public/**&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">permitAll<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#6272a4">// Rutas públicas<!-- --></span><span>
<!-- --></span><span>                <!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">anyRequest<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">authenticated<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#6272a4">// El resto requiere autenticación<!-- --></span><span>
<!-- --></span><span>            <!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span>
<!-- --></span><span>            <!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">oauth2Login<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span>oauth2 <!-- --></span><span class="token" style="color:#f8f8f2">-&gt;<!-- --></span><span> oauth2
<!-- --></span><span>                <!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">defaultSuccessUrl<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;/home&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#bd93f9">true<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#6272a4">// Redirigir después del login<!-- --></span><span>
<!-- --></span><span>            <!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span>        <!-- --></span><span class="token" style="color:#8be9fd">return<!-- --></span><span> http<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">build<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></pre>
<!-- --></li>
<!-- --></ul>
<!-- --><hr/>
<!-- --><h2><strong>Ejemplo Práctico: Autenticación con Google<!-- --></strong></h2>
<!-- --><h3>1. <!-- --><strong>Crear una Aplicación en Google<!-- --></strong></h3>
<!-- --><ul>
<!-- --><li>Ve a la <!-- --><a href="https://console.developers.google.com/">Consola de Desarrolladores de Google<!-- --></a>.<!-- --></li>
<!-- --><li>Crea un nuevo proyecto y habilita la API de OAuth 2.0.<!-- --></li>
<!-- --><li>Configura las credenciales de OAuth (Client ID y Client Secret).<!-- --></li>
<!-- --><li>Agrega una <!-- --><strong>Redirect URI<!-- --></strong> (por ejemplo, <!-- --><code>http://localhost:8080/login/oauth2/code/google<!-- --></code>).<!-- --></li>
<!-- --></ul>
<!-- --><h3>2. <!-- --><strong>Implementar el Controlador<!-- --></strong></h3>
<!-- --><ul>
<!-- --><li>Crea un controlador para manejar la autenticación y la página de inicio:<!-- -->
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-java" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#8be9fd">import<!-- --></span><span> <!-- --></span><span class="token">org<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">springframework<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">security<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">core<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">annotation<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">AuthenticationPrincipal<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">import<!-- --></span><span> <!-- --></span><span class="token">org<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">springframework<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">security<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">oauth2<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">core<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">user<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">OAuth2User<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">import<!-- --></span><span> <!-- --></span><span class="token">org<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">springframework<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">stereotype<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">Controller<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">import<!-- --></span><span> <!-- --></span><span class="token">org<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">springframework<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">ui<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">Model<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">import<!-- --></span><span> <!-- --></span><span class="token">org<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">springframework<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">web<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">bind<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token">annotation<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">GetMapping<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span>
<!-- --><span></span><span class="token annotation" style="color:#f8f8f2">@Controller<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">class<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">HomeController<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span>
<!-- --><span>    <!-- --></span><span class="token annotation" style="color:#f8f8f2">@GetMapping<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;/&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">String<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">home<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span>        <!-- --></span><span class="token" style="color:#8be9fd">return<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;index&quot;<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span> <!-- --></span><span class="token" style="color:#6272a4">// Página de inicio pública<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span>
<!-- --><span>    <!-- --></span><span class="token annotation" style="color:#f8f8f2">@GetMapping<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;/home&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">String<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">userHome<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token annotation" style="color:#f8f8f2">@AuthenticationPrincipal<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">OAuth2User<!-- --></span><span> user<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">Model<!-- --></span><span> model<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span>        model<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">addAttribute<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;name&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> user<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">getAttribute<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;name&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span>        model<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">addAttribute<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;email&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> user<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">getAttribute<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;email&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span>        <!-- --></span><span class="token" style="color:#8be9fd">return<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;home&quot;<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span> <!-- --></span><span class="token" style="color:#6272a4">// Página de inicio del usuario autenticado<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></pre>
<!-- --></li>
<!-- --></ul>
<!-- --><h3>3. <!-- --><strong>Crear las Vistas<!-- --></strong></h3>
<!-- --><ul>
<!-- --><li>
<!-- --><p>Crea una vista <!-- --><code>index.html<!-- --></code> para la página pública:<!-- --></p>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-html" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#f8f8f2">&lt;!<!-- --></span><span class="token doctype-tag" style="color:#6272a4">DOCTYPE<!-- --></span><span class="token" style="color:#6272a4"> <!-- --></span><span class="token name" style="color:#6272a4">html<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">html<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">head<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">title<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>Inicio<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">title<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">head<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">body<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">h1<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>Bienvenido<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">h1<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">a<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">href<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&quot;<!-- --></span><span class="token" style="color:#f1fa8c">/oauth2/authorization/google<!-- --></span><span class="token" style="color:#f8f8f2">&quot;<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>Iniciar sesión con Google<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">a<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">body<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">html<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span></code></div></pre>
<!-- --></li>
<!-- --><li>
<!-- --><p>Crea una vista <!-- --><code>home.html<!-- --></code> para la página del usuario autenticado:<!-- --></p>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-html" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#f8f8f2">&lt;!<!-- --></span><span class="token doctype-tag" style="color:#6272a4">DOCTYPE<!-- --></span><span class="token" style="color:#6272a4"> <!-- --></span><span class="token name" style="color:#6272a4">html<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">html<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">head<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">title<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>Inicio<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">title<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">head<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">body<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">h1<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>Bienvenido, <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">span<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">th:<!-- --></span><span class="token" style="color:#50fa7b">text<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&quot;<!-- --></span><span class="token" style="color:#f1fa8c">${name}<!-- --></span><span class="token" style="color:#f8f8f2">&quot;<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">span<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">h1<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">p<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>Correo electrónico: <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">span<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">th:<!-- --></span><span class="token" style="color:#50fa7b">text<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&quot;<!-- --></span><span class="token" style="color:#f1fa8c">${email}<!-- --></span><span class="token" style="color:#f8f8f2">&quot;<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">span<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">p<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">a<!-- --></span><span class="token" style="color:#ff79c6"> <!-- --></span><span class="token" style="color:#50fa7b">href<!-- --></span><span class="token attr-equals" style="color:#f8f8f2">=<!-- --></span><span class="token" style="color:#f8f8f2">&quot;<!-- --></span><span class="token" style="color:#f1fa8c">/logout<!-- --></span><span class="token" style="color:#f8f8f2">&quot;<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>Cerrar sesión<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">a<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">body<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">html<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span></code></div></pre>
<!-- --></li>
<!-- --></ul>
<!-- --><hr/>
<!-- --><h2><strong>Conclusión<!-- --></strong></h2>
<!-- --><p>Spring Security facilita la integración de OAuth en aplicaciones Java, permitiéndote autenticar usuarios con proveedores externos como Google, GitHub o LinkedIn. Con este ejemplo, puedes comenzar a implementar OAuth en tu aplicación Spring Boot de manera segura y eficiente.<!-- --></p>
<!-- --><hr/>
<!-- --><h3><strong>Referencias<!-- --></strong></h3>
<!-- --><ul>
<!-- --><li><a href="https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html">Documentación de Spring Security OAuth<!-- --></a></li>
<!-- --><li><a href="https://spring.io/guides/tutorials/spring-boot-oauth2/">Guía de OAuth 2.0 con Spring Boot<!-- --></a></li>
<!-- --></ul>
<!-- --><hr/>
<!-- --><p>¡Espero que esta plantilla te sea útil para tu publicación sobre OAuth con Spring Security! 😊<!-- --></p></div><div class="mt-5 laptop:mt-40 p-2 laptop:p-0"><div><h1 class="text-2xl text-bold">Contact.</h1><div class="mt-10"><h1 class="text-3xl tablet:text-6xl laptop:text-6xl laptopl:text-8xl text-bold">LET&#x27;S WORK TOGETHER</h1><h1 class="text-3xl tablet:text-6xl laptop:text-6xl laptopl:text-8xl text-bold"></h1><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg bg-black text-white  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Schedule a call</button><div class="mt-10"><div class="undefined flex flex-wrap mob:flex-nowrap link"><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Github</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">LinkedIn</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Twitter</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Blog</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Email</button></div></div></div></div></div><h1 class="text-sm text-bold mt-2 laptop:mt-10 p-2 laptop:p-0">Made With ❤ by<!-- --> <!-- --><a class="underline underline-offset-1" href="https://jaoportfolio.onrender.com/">Juan Arana Olalde</a></h1></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"date":"2025-04-09T17:00:00.000Z","slug":"fourteen","preview":"OAuth es un estándar de autorización ampliamente utilizado para permitir que las aplicaciones accedan a recursos de usuarios sin compartir sus credenciales. En este post, te explicamos cómo configurar OAuth con Spring Security en una aplicación Java.","title":"OAuth con Spring Security: Autenticación y Autorización en Aplicaciones Java","tagline":"Aprende a integrar OAuth en tus aplicaciones Java usando Spring Security.","image":"/images/blogs/moritz-ludtke-K4n6CW8so84-unsplash.jpg","content":"\r\n# Introducción a OAuth con Spring Security\r\n\r\n**OAuth** es un protocolo de autorización que permite a las aplicaciones acceder a recursos de un usuario en otro servicio (como Google, GitHub o LinkedIn) sin compartir sus credenciales. **Spring Security** es un framework de seguridad para aplicaciones Java que facilita la integración de OAuth en tu aplicación.\r\n\r\n## ¿Por qué usar OAuth con Spring Security?\r\n\r\n1. **Seguridad**: No es necesario almacenar contraseñas de usuarios.\r\n2. **Integración sencilla**: Spring Security proporciona soporte nativo para OAuth 2.0.\r\n3. **Escalabilidad**: Puedes integrar múltiples proveedores de OAuth (Google, GitHub, etc.).\r\n\r\n---\r\n\r\n## **Configuración de OAuth con Spring Security**\r\n\r\nPara configurar OAuth en una aplicación Spring Boot, sigue estos pasos:\r\n\r\n### 1. **Agregar Dependencias**\r\n   - En tu archivo `pom.xml`, agrega las dependencias de Spring Security y OAuth:\r\n     ```xml\r\n     \u003cdependency\u003e\r\n         \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e\r\n         \u003cartifactId\u003espring-boot-starter-security\u003c/artifactId\u003e\r\n     \u003c/dependency\u003e\r\n     \u003cdependency\u003e\r\n         \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e\r\n         \u003cartifactId\u003espring-boot-starter-oauth2-client\u003c/artifactId\u003e\r\n     \u003c/dependency\u003e\r\n     ```\r\n\r\n### 2. **Configurar el Proveedor de OAuth**\r\n   - En tu archivo `application.yml` o `application.properties`, configura las credenciales de tu proveedor de OAuth (por ejemplo, Google):\r\n     ```yaml\r\n     spring:\r\n       security:\r\n         oauth2:\r\n           client:\r\n             registration:\r\n               google:\r\n                 client-id: TU_CLIENT_ID\r\n                 client-secret: TU_CLIENT_SECRET\r\n                 scope: email,profile\r\n             provider:\r\n               google:\r\n                 authorization-uri: https://accounts.google.com/o/oauth2/auth\r\n                 token-uri: https://oauth2.googleapis.com/token\r\n                 user-info-uri: https://openidconnect.googleapis.com/v1/userinfo\r\n     ```\r\n\r\n### 3. **Configurar Spring Security**\r\n   - Crea una clase de configuración para Spring Security:\r\n     ```java\r\n     import org.springframework.context.annotation.Bean;\r\n     import org.springframework.context.annotation.Configuration;\r\n     import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n     import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\n     import org.springframework.security.web.SecurityFilterChain;\r\n\r\n     @Configuration\r\n     @EnableWebSecurity\r\n     public class SecurityConfig {\r\n\r\n         @Bean\r\n         public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n             http\r\n                 .authorizeHttpRequests(auth -\u003e auth\r\n                     .requestMatchers(\"/\", \"/public/**\").permitAll() // Rutas públicas\r\n                     .anyRequest().authenticated() // El resto requiere autenticación\r\n                 )\r\n                 .oauth2Login(oauth2 -\u003e oauth2\r\n                     .defaultSuccessUrl(\"/home\", true) // Redirigir después del login\r\n                 );\r\n             return http.build();\r\n         }\r\n     }\r\n     ```\r\n\r\n---\r\n\r\n## **Ejemplo Práctico: Autenticación con Google**\r\n\r\n### 1. **Crear una Aplicación en Google**\r\n   - Ve a la [Consola de Desarrolladores de Google](https://console.developers.google.com/).\r\n   - Crea un nuevo proyecto y habilita la API de OAuth 2.0.\r\n   - Configura las credenciales de OAuth (Client ID y Client Secret).\r\n   - Agrega una **Redirect URI** (por ejemplo, `http://localhost:8080/login/oauth2/code/google`).\r\n\r\n### 2. **Implementar el Controlador**\r\n   - Crea un controlador para manejar la autenticación y la página de inicio:\r\n     ```java\r\n     import org.springframework.security.core.annotation.AuthenticationPrincipal;\r\n     import org.springframework.security.oauth2.core.user.OAuth2User;\r\n     import org.springframework.stereotype.Controller;\r\n     import org.springframework.ui.Model;\r\n     import org.springframework.web.bind.annotation.GetMapping;\r\n\r\n     @Controller\r\n     public class HomeController {\r\n\r\n         @GetMapping(\"/\")\r\n         public String home() {\r\n             return \"index\"; // Página de inicio pública\r\n         }\r\n\r\n         @GetMapping(\"/home\")\r\n         public String userHome(@AuthenticationPrincipal OAuth2User user, Model model) {\r\n             model.addAttribute(\"name\", user.getAttribute(\"name\"));\r\n             model.addAttribute(\"email\", user.getAttribute(\"email\"));\r\n             return \"home\"; // Página de inicio del usuario autenticado\r\n         }\r\n     }\r\n     ```\r\n\r\n### 3. **Crear las Vistas**\r\n   - Crea una vista `index.html` para la página pública:\r\n     ```html\r\n     \u003c!DOCTYPE html\u003e\r\n     \u003chtml\u003e\r\n     \u003chead\u003e\r\n         \u003ctitle\u003eInicio\u003c/title\u003e\r\n     \u003c/head\u003e\r\n     \u003cbody\u003e\r\n         \u003ch1\u003eBienvenido\u003c/h1\u003e\r\n         \u003ca href=\"/oauth2/authorization/google\"\u003eIniciar sesión con Google\u003c/a\u003e\r\n     \u003c/body\u003e\r\n     \u003c/html\u003e\r\n     ```\r\n\r\n   - Crea una vista `home.html` para la página del usuario autenticado:\r\n     ```html\r\n     \u003c!DOCTYPE html\u003e\r\n     \u003chtml\u003e\r\n     \u003chead\u003e\r\n         \u003ctitle\u003eInicio\u003c/title\u003e\r\n     \u003c/head\u003e\r\n     \u003cbody\u003e\r\n         \u003ch1\u003eBienvenido, \u003cspan th:text=\"${name}\"\u003e\u003c/span\u003e\u003c/h1\u003e\r\n         \u003cp\u003eCorreo electrónico: \u003cspan th:text=\"${email}\"\u003e\u003c/span\u003e\u003c/p\u003e\r\n         \u003ca href=\"/logout\"\u003eCerrar sesión\u003c/a\u003e\r\n     \u003c/body\u003e\r\n     \u003c/html\u003e\r\n     ```\r\n\r\n---\r\n\r\n## **Conclusión**\r\n\r\nSpring Security facilita la integración de OAuth en aplicaciones Java, permitiéndote autenticar usuarios con proveedores externos como Google, GitHub o LinkedIn. Con este ejemplo, puedes comenzar a implementar OAuth en tu aplicación Spring Boot de manera segura y eficiente.\r\n\r\n---\r\n\r\n### **Referencias**\r\n- [Documentación de Spring Security OAuth](https://docs.spring.io/spring-security/reference/servlet/oauth2/index.html)\r\n- [Guía de OAuth 2.0 con Spring Boot](https://spring.io/guides/tutorials/spring-boot-oauth2/)\r\n\r\n---\r\n\r\n¡Espero que esta plantilla te sea útil para tu publicación sobre OAuth con Spring Security! 😊\r\n\r\n\r\n\r\n\r\n"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"fourteen"},"buildId":"c1IYPjHs-tvPFIcbE7AQ-","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>