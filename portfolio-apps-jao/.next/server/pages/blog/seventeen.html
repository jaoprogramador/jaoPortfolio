<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Blog - RabbitMQ en Microservicios con Spring Boot</title><meta name="description" content="RabbitMQ es uno de los brokers de mensajería más populares para integrar microservicios de manera asíncrona y desacoplada. Aprende cómo funciona, cómo se integra con Spring Boot y cuándo usarlo frente a otras opciones como Kafka."/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/e99fcc8540a81b1c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e99fcc8540a81b1c.css" data-n-g=""/><link rel="preload" href="/_next/static/css/f8f60675323764f2.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f8f60675323764f2.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-570070fdbf91d417.js" defer=""></script><script src="/_next/static/chunks/framework-75db3117d1377048.js" defer=""></script><script src="/_next/static/chunks/main-6d31f1caf3df54dd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5f8ee1ef90dcf6c7.js" defer=""></script><script src="/_next/static/chunks/94726e6d-c72a854d4bfca4da.js" defer=""></script><script src="/_next/static/chunks/144-4ce2b94271136310.js" defer=""></script><script src="/_next/static/chunks/996-f3cf67c2e3ac5e06.js" defer=""></script><script src="/_next/static/chunks/581-aae012922ce60763.js" defer=""></script><script src="/_next/static/chunks/941-ca823945d5078c94.js" defer=""></script><script src="/_next/static/chunks/924-dbd55959fd098bb5.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-c171fda68c6d5435.js" defer=""></script><script src="/_next/static/HeYTDHdS9OAv8zM0xBIWd/_buildManifest.js" defer=""></script><script src="/_next/static/HeYTDHdS9OAv8zM0xBIWd/_ssgManifest.js" defer=""></script><script src="/_next/static/HeYTDHdS9OAv8zM0xBIWd/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="container mx-auto mt-10 cursor-none"><div class="block tablet:hidden mt-5"><div class="flex items-center justify-between p-2 laptop:p-0"><h1 class="font-medium p-2 laptop:p-0 link">JAO<!-- -->.<!-- --></h1><div class="flex items-center"><select class="ml-2 p-1 border rounded transition-all duration-300 ease-out
        bg-white text-black border-gray-300
        hover:scale-105 active:scale-100 cursor-none undefined"><option value="es">🇪🇸 Castellano<!-- --></option><option value="en" selected="">🇬🇧 English<!-- --></option><option value="eu">🇪🇺 Euskera<!-- --></option></select><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined"><img class="h-6" src="/images/sun.svg" alt="Toggle theme"/></button><button id="headlessui-popover-button-:R4n6:" type="button" aria-expanded="false"><img class="h-5" src="/images/menu.svg" alt="Menu toggle"/></button></div></div></div><div class="mt-10 hidden flex-row items-center justify-between sticky dark:text-white top-0 z-10 tablet:flex"><h1 class="font-medium cursor-pointer">JAO<!-- -->.<!-- --></h1><div class="flex"><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Home</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Work</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">About</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Blog</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Frameworks</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Resume</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Contact</button><select class="ml-2 p-1 border rounded transition-all duration-300 ease-out
        bg-white text-black border-gray-300
        hover:scale-105 active:scale-100 cursor-none undefined"><option value="es">🇪🇸 Castellano<!-- --></option><option value="en" selected="">🇬🇧 English<!-- --></option><option value="eu">🇪🇺 Euskera<!-- --></option></select></div></div><div class="mt-10 flex flex-col"><img class="w-full h-96 rounded-lg shadow-lg object-cover" src="/images/blogs/point-normal-LAsBMFrH_WY-unsplash.jpg" alt="RabbitMQ en Microservicios con Spring Boot"/><h1 class="mt-10 text-4xl mob:text-2xl laptop:text-6xl text-bold">RabbitMQ en Microservicios con Spring Boot</h1><h2 class="mt-2 text-xl max-w-4xl text-darkgray opacity-50">Comunicación asíncrona eficiente y fiable en sistemas distribuidos</h2></div><div class="markdown-class"><h1>RabbitMQ en Microservicios con Spring Boot<!-- --></h1>
<!-- --><p>En entornos de microservicios, la <!-- --><strong>comunicación asíncrona<!-- --></strong> es esencial para lograr <!-- --><strong>desacoplamiento, resiliencia y escalabilidad<!-- --></strong>. RabbitMQ es una herramienta ampliamente utilizada para cumplir ese rol.<!-- --></p>
<!-- --><p>Aunque Kafka ha ganado popularidad, RabbitMQ sigue siendo una opción sólida para muchos casos de uso, especialmente cuando se necesita <!-- --><strong>enrutamiento flexible, garantías de entrega y simplicidad<!-- --></strong>.<!-- --></p>
<!-- --><hr/>
<!-- --><h2>¿Qué es RabbitMQ?<!-- --></h2>
<!-- --><p><strong>RabbitMQ<!-- --></strong> es un <!-- --><strong>message broker basado en colas<!-- --></strong>. Implementa el protocolo <!-- --><strong>AMQP (Advanced Message Queuing Protocol)<!-- --></strong> y permite que los sistemas se comuniquen mediante el envío de mensajes a través de colas gestionadas por el broker.<!-- --></p>
<!-- --><hr/>
<!-- --><h2>Conceptos clave de RabbitMQ<!-- --></h2>
<!-- --><ul>
<!-- --><li><strong>Exchange:<!-- --></strong> Recibe los mensajes de los productores y decide a qué cola(s) enviarlos.<!-- --></li>
<!-- --><li><strong>Queue (cola):<!-- --></strong> Donde los mensajes se almacenan hasta que un consumidor los procesa.<!-- --></li>
<!-- --><li><strong>Binding:<!-- --></strong> Conexión entre un exchange y una cola.<!-- --></li>
<!-- --><li><strong>Routing Key:<!-- --></strong> Clave usada para decidir el enrutamiento del mensaje.<!-- --></li>
<!-- --></ul>
<!-- --><hr/>
<!-- --><h2>Tipos de Exchanges<!-- --></h2>
<!-- --><ul>
<!-- --><li><code>direct<!-- --></code>: Enruta mensajes según una <!-- --><code>routing key<!-- --></code> exacta.<!-- --></li>
<!-- --><li><code>topic<!-- --></code>: Permite patrones como <!-- --><code>usuario.*<!-- --></code> o <!-- --><code>orden.#<!-- --></code>.<!-- --></li>
<!-- --><li><code>fanout<!-- --></code>: Enruta el mensaje a todas las colas conectadas.<!-- --></li>
<!-- --><li><code>headers<!-- --></code>: Enruta según encabezados personalizados del mensaje.<!-- --></li>
<!-- --></ul>
<!-- --><hr/>
<!-- --><h2>¿Por qué RabbitMQ en Microservicios?<!-- --></h2>
<!-- --><p>✅ Comunicación asíncrona y desacoplada<!-- --><br/>
<!-- -->✅ Retries automáticos y DLQs (Dead Letter Queues)<!-- --><br/>
<!-- -->✅ Control de enrutamiento más detallado que Kafka<!-- --><br/>
<!-- -->✅ Compatible con múltiples lenguajes y protocolos<!-- --><br/>
<!-- -->✅ Fácil de visualizar y gestionar con su panel web<!-- --></p>
<!-- --><hr/>
<!-- --><h2>Arquitectura típica con RabbitMQ<!-- --></h2>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-bash" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#f8f8f2">[<!-- --></span><span> Servicio A <!-- --></span><span class="token" style="color:#f8f8f2">]<!-- --></span><span> ---<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span> Exchange --<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">[<!-- --></span><span> Cola <!-- --></span><span class="token" style="color:#f8f8f2">]<!-- --></span><span> ---<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">[<!-- --></span><span> Servicio B <!-- --></span><span class="token" style="color:#f8f8f2">]<!-- --></span><span>
<!-- --></span>Cada servicio puede ser productor y/o consumidor. Un evento puede enviarse a múltiples colas si así lo define el exchange.<!-- --></code></div></pre>
<!-- --><h3>Integración con Spring Boot<!-- --></h3>
<!-- --><p>Dependencias:<!-- --></p>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-xml" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#6272a4">&lt;!-- pom.xml --&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">dependency<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">groupId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>org.springframework.boot<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">groupId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">artifactId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>spring-boot-starter-amqp<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">artifactId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">dependency<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span></code></div></pre>
<!-- --><h3>Configuración:<!-- --></h3>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-xml" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span># application.yml
<!-- --></span>spring:
<!-- -->  rabbitmq:
<!-- -->    host: localhost
<!-- -->    port: 5672
<!-- -->    username: guest
<!-- -->    password: guest<!-- --></code></div></pre>
<!-- --><h2>Configuración:<!-- --></h2>
<!-- --><h1>application.yml<!-- --></h1>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-xml" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>spring:
<!-- --></span>  rabbitmq:
<!-- -->    host: localhost
<!-- -->    port: 5672
<!-- -->    username: guest
<!-- -->    password: guest<!-- --></code></div></pre>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-java" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#f1fa8c">Productor<!-- --></span><span> con <!-- --></span><span class="token" style="color:#f1fa8c">RabbitTemplate<!-- --></span><span>
<!-- --></span><span></span><span class="token annotation" style="color:#f8f8f2">@Service<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">class<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">NotificacionProducer<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span>
<!-- --><span>    <!-- --></span><span class="token" style="color:#8be9fd">private<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">final<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">RabbitTemplate<!-- --></span><span> rabbitTemplate<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span>
<!-- --><span>    <!-- --></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">NotificacionProducer<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f1fa8c">RabbitTemplate<!-- --></span><span> rabbitTemplate<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span>        <!-- --></span><span class="token" style="color:#8be9fd">this<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span>rabbitTemplate <!-- --></span><span class="token" style="color:#f8f8f2">=<!-- --></span><span> rabbitTemplate<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span>
<!-- --><span>    <!-- --></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">void<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">enviarNotificacion<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f1fa8c">String<!-- --></span><span> mensaje<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span>        rabbitTemplate<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">convertAndSend<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;notificaciones.exchange&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;notificaciones.email&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> mensaje<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></pre>
<!-- --><h2>Configuración de colas y exchanges<!-- --></h2>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-java" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token annotation" style="color:#f8f8f2">@Configuration<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">class<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">RabbitConfig<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span>
<!-- --><span>    <!-- --></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">static<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">final<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">String<!-- --></span><span> QUEUE <!-- --></span><span class="token" style="color:#f8f8f2">=<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;notificaciones.queue&quot;<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">static<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">final<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">String<!-- --></span><span> EXCHANGE <!-- --></span><span class="token" style="color:#f8f8f2">=<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;notificaciones.exchange&quot;<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">static<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">final<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">String<!-- --></span><span> ROUTING_KEY <!-- --></span><span class="token" style="color:#f8f8f2">=<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;notificaciones.email&quot;<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span>
<!-- --><span>    <!-- --></span><span class="token annotation" style="color:#f8f8f2">@Bean<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">Queue<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">queue<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span>        <!-- --></span><span class="token" style="color:#8be9fd">return<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">new<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">Queue<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span>QUEUE<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#bd93f9">true<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span>
<!-- --><span>    <!-- --></span><span class="token annotation" style="color:#f8f8f2">@Bean<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">TopicExchange<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">exchange<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span>        <!-- --></span><span class="token" style="color:#8be9fd">return<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">new<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">TopicExchange<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span>EXCHANGE<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span>
<!-- --><span>    <!-- --></span><span class="token annotation" style="color:#f8f8f2">@Bean<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">Binding<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">binding<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f1fa8c">Queue<!-- --></span><span> queue<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">TopicExchange<!-- --></span><span> exchange<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span>        <!-- --></span><span class="token" style="color:#8be9fd">return<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">BindingBuilder<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">bind<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span>queue<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#8be9fd">to<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span>exchange<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#8be9fd">with<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span>ROUTING_KEY<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></pre>
<!-- --><h2>Consumidor con @RabbitListener<!-- --></h2>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-java" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token annotation" style="color:#f8f8f2">@Component<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">class<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">NotificacionListener<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span>
<!-- --><span>    <!-- --></span><span class="token annotation" style="color:#f8f8f2">@RabbitListener<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span>queues <!-- --></span><span class="token" style="color:#f8f8f2">=<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">RabbitConfig<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span>QUEUE<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">void<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">recibirMensaje<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f1fa8c">String<!-- --></span><span> mensaje<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span>        <!-- --></span><span class="token" style="color:#f1fa8c">System<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span>out<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">println<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;Mensaje recibido: &quot;<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">+<!-- --></span><span> mensaje<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span>        <!-- --></span><span class="token" style="color:#6272a4">// lógica de negocio aquí<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></pre>
<!-- --><h2>Dead Letter Queue (DLQ)<!-- --></h2>
<!-- --><p>Una práctica común para mejorar la resiliencia es configurar colas muertas para mensajes fallidos:<!-- --></p>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-java" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token annotation" style="color:#f8f8f2">@Bean<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">Queue<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">mainQueue<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#8be9fd">return<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">QueueBuilder<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">durable<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;procesos.queue&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span>
<!-- --></span><span>        <!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">withArgument<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;x-dead-letter-exchange&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;dlx.exchange&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span>
<!-- --></span><span>        <!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">withArgument<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;x-dead-letter-routing-key&quot;<!-- --></span><span class="token" style="color:#f8f8f2">,<!-- --></span><span> <!-- --></span><span class="token" style="color:#50fa7b">&quot;procesos.fallidos&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span>
<!-- --></span><span>        <!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">build<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span><span>
<!-- --></span></code></div></pre>
<!-- --><h2>Comparación RabbitMQ vs Kafka<!-- --></h2>
<!-- --><p>Aunque ambos sistemas se utilizan para la comunicación entre servicios, sus enfoques y características son diferentes. Aquí te dejo una comparación clara:<!-- --></p>
<!-- --><p><strong>🟠 RabbitMQ:<!-- --></strong></p>
<!-- --><ul>
<!-- --><li>Utiliza un modelo de colas (queue-based).<!-- --></li>
<!-- --><li>Los mensajes se eliminan una vez que son consumidos (por defecto).<!-- --></li>
<!-- --><li>Es ideal para casos donde se necesita enrutamiento complejo, workflows o tareas asíncronas.<!-- --></li>
<!-- --><li>Compatible con múltiples protocolos (AMQP, MQTT, STOMP, etc.).<!-- --></li>
<!-- --><li>Ofrece orden dentro de una sola cola.<!-- --></li>
<!-- --><li>Sencillo de implementar y visualizar gracias a su panel web.<!-- --></li>
<!-- --></ul>
<!-- --><p><strong>🔵 Kafka:<!-- --></strong></p>
<!-- --><ul>
<!-- --><li>Utiliza un modelo basado en logs distribuidos.<!-- --></li>
<!-- --><li>Los mensajes se retienen por tiempo o tamaño, incluso si ya fueron consumidos.<!-- --></li>
<!-- --><li>Es ideal para arquitecturas basadas en eventos, streaming de datos y event sourcing.<!-- --></li>
<!-- --><li>Alta escalabilidad y rendimiento en flujos de datos grandes.<!-- --></li>
<!-- --><li>Garantiza el orden dentro de una partición, pero requiere planificación.<!-- --></li>
<!-- --><li>Puede operar sin Zookeeper a partir de versiones recientes (modo KRaft).<!-- --></li>
<!-- --></ul>
<!-- --><p><strong>📌 Conclusión rápida:<!-- --></strong></p>
<!-- --><ul>
<!-- --><li>Si necesitas <!-- --><strong>routing flexible y tareas asíncronas simples<!-- --></strong>, ve por RabbitMQ.<!-- --></li>
<!-- --><li>Si necesitas <!-- --><strong>procesamiento de eventos masivo, histórico o auditabilidad<!-- --></strong>, Kafka es tu opción.<!-- --></li>
<!-- --></ul>
<!-- --><h2>Buenas prácticas con RabbitMQ<!-- --></h2>
<!-- --><p>Usa DLQ para gestionar mensajes que fallan repetidamente.<!-- --></p>
<!-- --><p>Establece políticas de retry y backoff para consumidores.<!-- --></p>
<!-- --><p>Monitorea colas con el panel de administración de RabbitMQ.<!-- --></p>
<!-- --><p>Asegura idempotencia en consumidores para evitar duplicados.<!-- --></p>
<!-- --><p>Desacopla consumidores usando @Async si el procesamiento es costoso.<!-- --></p>
<!-- --><h2>Conclusión<!-- --></h2>
<!-- --><p>RabbitMQ sigue siendo una herramienta potente y versátil para construir sistemas de microservicios basados en eventos. Su simplicidad, flexibilidad y compatibilidad lo convierten en una gran opción para muchas arquitecturas distribuidas.<!-- --></p>
<!-- --><p>En combinación con Spring Boot, permite crear soluciones robustas, desacopladas y fáciles de mantener.<!-- --></p></div><div class="mt-5 laptop:mt-40 p-2 laptop:p-0"><div><h1 class="text-2xl text-bold">Contact.</h1><div class="mt-10"><h1 class="text-3xl tablet:text-6xl laptop:text-6xl laptopl:text-8xl text-bold">LET&#x27;S WORK TOGETHER</h1><h1 class="text-3xl tablet:text-6xl laptop:text-6xl laptopl:text-8xl text-bold"></h1><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg bg-black text-white  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Schedule a call</button><div class="mt-10"><div class="undefined flex flex-wrap mob:flex-nowrap link"><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Github</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">LinkedIn</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Twitter</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Blog</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Email</button></div></div></div></div></div><h1 class="text-sm text-bold mt-2 laptop:mt-10 p-2 laptop:p-0">Made With ❤ by<!-- --> <!-- --><a class="underline underline-offset-1" href="https://jaoportfolio.onrender.com/">Juan Arana Olalde</a></h1></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"date":"2025-08-26T17:00:00.000Z","slug":"seventeen","preview":"RabbitMQ es uno de los brokers de mensajería más populares para integrar microservicios de manera asíncrona y desacoplada. Aprende cómo funciona, cómo se integra con Spring Boot y cuándo usarlo frente a otras opciones como Kafka.","title":"RabbitMQ en Microservicios con Spring Boot","tagline":"Comunicación asíncrona eficiente y fiable en sistemas distribuidos","image":"/images/blogs/point-normal-LAsBMFrH_WY-unsplash.jpg","content":"# RabbitMQ en Microservicios con Spring Boot\r\n\r\nEn entornos de microservicios, la **comunicación asíncrona** es esencial para lograr **desacoplamiento, resiliencia y escalabilidad**. RabbitMQ es una herramienta ampliamente utilizada para cumplir ese rol.\r\n\r\nAunque Kafka ha ganado popularidad, RabbitMQ sigue siendo una opción sólida para muchos casos de uso, especialmente cuando se necesita **enrutamiento flexible, garantías de entrega y simplicidad**.\r\n\r\n---\r\n\r\n## ¿Qué es RabbitMQ?\r\n\r\n**RabbitMQ** es un **message broker basado en colas**. Implementa el protocolo **AMQP (Advanced Message Queuing Protocol)** y permite que los sistemas se comuniquen mediante el envío de mensajes a través de colas gestionadas por el broker.\r\n\r\n---\r\n\r\n## Conceptos clave de RabbitMQ\r\n\r\n- **Exchange:** Recibe los mensajes de los productores y decide a qué cola(s) enviarlos.\r\n- **Queue (cola):** Donde los mensajes se almacenan hasta que un consumidor los procesa.\r\n- **Binding:** Conexión entre un exchange y una cola.\r\n- **Routing Key:** Clave usada para decidir el enrutamiento del mensaje.\r\n\r\n---\r\n\r\n## Tipos de Exchanges\r\n\r\n- `direct`: Enruta mensajes según una `routing key` exacta.\r\n- `topic`: Permite patrones como `usuario.*` o `orden.#`.\r\n- `fanout`: Enruta el mensaje a todas las colas conectadas.\r\n- `headers`: Enruta según encabezados personalizados del mensaje.\r\n\r\n---\r\n\r\n## ¿Por qué RabbitMQ en Microservicios?\r\n\r\n✅ Comunicación asíncrona y desacoplada  \r\n✅ Retries automáticos y DLQs (Dead Letter Queues)  \r\n✅ Control de enrutamiento más detallado que Kafka  \r\n✅ Compatible con múltiples lenguajes y protocolos  \r\n✅ Fácil de visualizar y gestionar con su panel web\r\n\r\n---\r\n\r\n## Arquitectura típica con RabbitMQ\r\n\r\n```bash\r\n[ Servicio A ] ---\u003e Exchange --\u003e [ Cola ] ---\u003e [ Servicio B ]\r\nCada servicio puede ser productor y/o consumidor. Un evento puede enviarse a múltiples colas si así lo define el exchange.\r\n```\r\n### Integración con Spring Boot\r\nDependencias:\r\n```xml\r\n\u003c!-- pom.xml --\u003e\r\n\u003cdependency\u003e\r\n    \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e\r\n    \u003cartifactId\u003espring-boot-starter-amqp\u003c/artifactId\u003e\r\n\u003c/dependency\u003e\r\n```\r\n### Configuración:\r\n```xml\r\n# application.yml\r\nspring:\r\n  rabbitmq:\r\n    host: localhost\r\n    port: 5672\r\n    username: guest\r\n    password: guest\r\n```\r\n## Configuración:\r\n# application.yml\r\n```xml\r\nspring:\r\n  rabbitmq:\r\n    host: localhost\r\n    port: 5672\r\n    username: guest\r\n    password: guest\r\n```\r\n```java\r\nProductor con RabbitTemplate\r\n@Service\r\npublic class NotificacionProducer {\r\n\r\n    private final RabbitTemplate rabbitTemplate;\r\n\r\n    public NotificacionProducer(RabbitTemplate rabbitTemplate) {\r\n        this.rabbitTemplate = rabbitTemplate;\r\n    }\r\n\r\n    public void enviarNotificacion(String mensaje) {\r\n        rabbitTemplate.convertAndSend(\"notificaciones.exchange\", \"notificaciones.email\", mensaje);\r\n    }\r\n}\r\n```\r\n## Configuración de colas y exchanges\r\n```java\r\n@Configuration\r\npublic class RabbitConfig {\r\n\r\n    public static final String QUEUE = \"notificaciones.queue\";\r\n    public static final String EXCHANGE = \"notificaciones.exchange\";\r\n    public static final String ROUTING_KEY = \"notificaciones.email\";\r\n\r\n    @Bean\r\n    public Queue queue() {\r\n        return new Queue(QUEUE, true);\r\n    }\r\n\r\n    @Bean\r\n    public TopicExchange exchange() {\r\n        return new TopicExchange(EXCHANGE);\r\n    }\r\n\r\n    @Bean\r\n    public Binding binding(Queue queue, TopicExchange exchange) {\r\n        return BindingBuilder.bind(queue).to(exchange).with(ROUTING_KEY);\r\n    }\r\n}\r\n```\r\n## Consumidor con @RabbitListener\r\n```java\r\n@Component\r\npublic class NotificacionListener {\r\n\r\n    @RabbitListener(queues = RabbitConfig.QUEUE)\r\n    public void recibirMensaje(String mensaje) {\r\n        System.out.println(\"Mensaje recibido: \" + mensaje);\r\n        // lógica de negocio aquí\r\n    }\r\n}\r\n```\r\n## Dead Letter Queue (DLQ)\r\nUna práctica común para mejorar la resiliencia es configurar colas muertas para mensajes fallidos:\r\n```java\r\n@Bean\r\npublic Queue mainQueue() {\r\n    return QueueBuilder.durable(\"procesos.queue\")\r\n        .withArgument(\"x-dead-letter-exchange\", \"dlx.exchange\")\r\n        .withArgument(\"x-dead-letter-routing-key\", \"procesos.fallidos\")\r\n        .build();\r\n}\r\n\r\n```\r\n## Comparación RabbitMQ vs Kafka\r\n\r\nAunque ambos sistemas se utilizan para la comunicación entre servicios, sus enfoques y características son diferentes. Aquí te dejo una comparación clara:\r\n\r\n**🟠 RabbitMQ:**\r\n- Utiliza un modelo de colas (queue-based).\r\n- Los mensajes se eliminan una vez que son consumidos (por defecto).\r\n- Es ideal para casos donde se necesita enrutamiento complejo, workflows o tareas asíncronas.\r\n- Compatible con múltiples protocolos (AMQP, MQTT, STOMP, etc.).\r\n- Ofrece orden dentro de una sola cola.\r\n- Sencillo de implementar y visualizar gracias a su panel web.\r\n  \r\n**🔵 Kafka:**\r\n- Utiliza un modelo basado en logs distribuidos.\r\n- Los mensajes se retienen por tiempo o tamaño, incluso si ya fueron consumidos.\r\n- Es ideal para arquitecturas basadas en eventos, streaming de datos y event sourcing.\r\n- Alta escalabilidad y rendimiento en flujos de datos grandes.\r\n- Garantiza el orden dentro de una partición, pero requiere planificación.\r\n- Puede operar sin Zookeeper a partir de versiones recientes (modo KRaft).\r\n\r\n**📌 Conclusión rápida:**\r\n- Si necesitas **routing flexible y tareas asíncronas simples**, ve por RabbitMQ.\r\n- Si necesitas **procesamiento de eventos masivo, histórico o auditabilidad**, Kafka es tu opción.\r\n\r\n\r\n## Buenas prácticas con RabbitMQ\r\n\r\nUsa DLQ para gestionar mensajes que fallan repetidamente.\r\n\r\nEstablece políticas de retry y backoff para consumidores.\r\n\r\nMonitorea colas con el panel de administración de RabbitMQ.\r\n\r\nAsegura idempotencia en consumidores para evitar duplicados.\r\n\r\nDesacopla consumidores usando @Async si el procesamiento es costoso.\r\n\r\n## Conclusión\r\n\r\nRabbitMQ sigue siendo una herramienta potente y versátil para construir sistemas de microservicios basados en eventos. Su simplicidad, flexibilidad y compatibilidad lo convierten en una gran opción para muchas arquitecturas distribuidas.\r\n\r\nEn combinación con Spring Boot, permite crear soluciones robustas, desacopladas y fáciles de mantener."}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"seventeen"},"buildId":"HeYTDHdS9OAv8zM0xBIWd","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>