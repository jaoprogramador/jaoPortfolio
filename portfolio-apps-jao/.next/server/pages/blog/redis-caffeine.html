<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Blog - Estrategias de Caché con Redis y Caffeine</title><meta name="description" content="Descubre las diferencias entre Redis y Caffeine, cuándo usar cada uno, ejemplos prácticos, patrones de diseño y buenas prácticas para caching eficiente en sistemas modernos."/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/css/e99fcc8540a81b1c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/e99fcc8540a81b1c.css" data-n-g=""/><link rel="preload" href="/_next/static/css/f8f60675323764f2.css" as="style"/><link rel="stylesheet" href="/_next/static/css/f8f60675323764f2.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-570070fdbf91d417.js" defer=""></script><script src="/_next/static/chunks/framework-75db3117d1377048.js" defer=""></script><script src="/_next/static/chunks/main-6d31f1caf3df54dd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-5f8ee1ef90dcf6c7.js" defer=""></script><script src="/_next/static/chunks/94726e6d-c72a854d4bfca4da.js" defer=""></script><script src="/_next/static/chunks/144-4ce2b94271136310.js" defer=""></script><script src="/_next/static/chunks/996-f3cf67c2e3ac5e06.js" defer=""></script><script src="/_next/static/chunks/581-aae012922ce60763.js" defer=""></script><script src="/_next/static/chunks/941-ca823945d5078c94.js" defer=""></script><script src="/_next/static/chunks/924-dbd55959fd098bb5.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bslug%5D-c171fda68c6d5435.js" defer=""></script><script src="/_next/static/85iiyWBTsq_-PTvkwEU47/_buildManifest.js" defer=""></script><script src="/_next/static/85iiyWBTsq_-PTvkwEU47/_ssgManifest.js" defer=""></script><script src="/_next/static/85iiyWBTsq_-PTvkwEU47/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';d[s](n,'dark')}else{d.style.colorScheme = 'light';d[s](n,'light')}}else if(e){d[s](n,e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="container mx-auto mt-10 cursor-none"><div class="block tablet:hidden mt-5"><div class="flex items-center justify-between p-2 laptop:p-0"><h1 class="font-medium p-2 laptop:p-0 link">JAO<!-- -->.<!-- --></h1><div class="flex items-center"><select class="ml-2 p-1 border rounded transition-all duration-300 ease-out
        bg-white text-black border-gray-300
        hover:scale-105 active:scale-100 cursor-none undefined"><option value="es">🇪🇸 Castellano<!-- --></option><option value="en" selected="">🇬🇧 English<!-- --></option><option value="eu">🇪🇺 Euskera<!-- --></option></select><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined"><img class="h-6" src="/images/sun.svg" alt="Toggle theme"/></button><button id="headlessui-popover-button-:R4n6:" type="button" aria-expanded="false"><img class="h-5" src="/images/menu.svg" alt="Menu toggle"/></button></div></div></div><div class="mt-10 hidden flex-row items-center justify-between sticky dark:text-white top-0 z-10 tablet:flex"><h1 class="font-medium cursor-pointer">JAO<!-- -->.<!-- --></h1><div class="flex"><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Home</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Work</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">About</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Blog</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Frameworks</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Resume</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Contact</button><select class="ml-2 p-1 border rounded transition-all duration-300 ease-out
        bg-white text-black border-gray-300
        hover:scale-105 active:scale-100 cursor-none undefined"><option value="es">🇪🇸 Castellano<!-- --></option><option value="en" selected="">🇬🇧 English<!-- --></option><option value="eu">🇪🇺 Euskera<!-- --></option></select></div></div><div class="mt-10 flex flex-col"><img class="w-full h-96 rounded-lg shadow-lg object-cover" src="/images/blogs/redis-caffeine.jpg" alt="Estrategias de Caché con Redis y Caffeine"/><h1 class="mt-10 text-4xl mob:text-2xl laptop:text-6xl text-bold">Estrategias de Caché con Redis y Caffeine</h1><h2 class="mt-2 text-xl max-w-4xl text-darkgray opacity-50">Optimiza el rendimiento de tus aplicaciones con cachés en memoria y distribuidas</h2></div><div class="markdown-class"><h1>Estrategias de Caché con Redis y Caffeine: Cuándo, Cómo y Por Qué ⚡<!-- --></h1>
<!-- --><p>En aplicaciones modernas, <!-- --><strong>el rendimiento lo es todo<!-- --></strong>. Si tu API consulta la base de datos en cada request, tarde o temprano tendrás problemas de latencia, escalabilidad y costos.<!-- --><br/>
<!-- -->Aquí es donde entran <!-- --><strong>las estrategias de caché<!-- --></strong>.<!-- --></p>
<!-- --><p>En este artículo aprenderás:<!-- --></p>
<!-- --><p>✅ <!-- --><strong>Qué son Redis y Caffeine<!-- --></strong><br/>
<!-- -->✅ <!-- --><strong>Cuándo usar uno u otro<!-- --></strong><br/>
<!-- -->✅ <!-- --><strong>Patrones y ejemplos prácticos<!-- --></strong><br/>
<!-- -->✅ <!-- --><strong>Pros y contras<!-- --></strong><br/>
<!-- -->✅ <!-- --><strong>Buenas prácticas<!-- --></strong></p>
<!-- --><hr/>
<!-- --><h2>✅ ¿Por qué usar caché?<!-- --></h2>
<!-- --><ul>
<!-- --><li><strong>Reduce la latencia<!-- --></strong>: Las respuestas son mucho más rápidas.<!-- --></li>
<!-- --><li><strong>Menos carga en la base de datos<!-- --></strong>: Alivia los cuellos de botella.<!-- --></li>
<!-- --><li><strong>Mejor experiencia de usuario<!-- --></strong>: Tiempo de respuesta consistente.<!-- --></li>
<!-- --></ul>
<!-- --><hr/>
<!-- --><h2>✅ Opciones populares: Redis vs Caffeine<!-- --></h2>
<!-- --><h3><strong>Redis<!-- --></strong></h3>
<!-- --><ul>
<!-- --><li>Caché <!-- --><strong>distribuido<!-- --></strong> en memoria.<!-- --></li>
<!-- --><li>Ideal para <!-- --><strong>escalabilidad horizontal<!-- --></strong>.<!-- --></li>
<!-- --><li>Permite <!-- --><strong>persistencia opcional<!-- --></strong>.<!-- --></li>
<!-- --><li>Compatible con estructuras complejas (listas, sets, pub/sub).<!-- --></li>
<!-- --></ul>
<!-- --><p>✅ <!-- --><strong>Casos de uso<!-- --></strong>:<!-- --></p>
<!-- --><ul>
<!-- --><li>Microservicios distribuidos.<!-- --></li>
<!-- --><li>Aplicaciones con múltiples instancias.<!-- --></li>
<!-- --><li>Datos compartidos entre servidores.<!-- --></li>
<!-- --></ul>
<!-- --><hr/>
<!-- --><h3><strong>Caffeine<!-- --></strong></h3>
<!-- --><ul>
<!-- --><li>Caché <!-- --><strong>en memoria local<!-- --></strong> (dentro de la JVM).<!-- --></li>
<!-- --><li>Basado en <!-- --><strong>ConcurrentHashMap + políticas LRU/W-TinyLFU<!-- --></strong>.<!-- --></li>
<!-- --><li>Ultra rápido para <!-- --><strong>lecturas en la misma instancia<!-- --></strong>.<!-- --></li>
<!-- --></ul>
<!-- --><p>✅ <!-- --><strong>Casos de uso<!-- --></strong>:<!-- --></p>
<!-- --><ul>
<!-- --><li>Monolitos o microservicios con <!-- --><strong>bajo escalado horizontal<!-- --></strong>.<!-- --></li>
<!-- --><li>Datos de alta frecuencia y bajo costo de regeneración.<!-- --></li>
<!-- --><li>Evitar latencia de red.<!-- --></li>
<!-- --></ul>
<!-- --><hr/>
<!-- --><h2>✅ ¿Cuándo usar Redis y cuándo Caffeine?<!-- --></h2>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-text" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span>| Criterio               | Redis                                  | Caffeine                              |
<!-- --></span>|------------------------|---------------------------------------|--------------------------------------|
<!-- -->| **Escalabilidad**      | Alta (distribuido)                   | Limitada a una JVM                  |
<!-- -->| **Consistencia**       | Compartido entre instancias          | Solo local                          |
<!-- -->| **Latencia**           | Mayor (requiere red)                 | Bajísima (in-memory)                |
<!-- -->| **Persistencia**       | Opcional (RDB, AOF)                  | No                                  |
<!-- -->| **Complejidad**        | Requiere instalación/configuración    | Muy fácil (dependencia Maven)       |<!-- --></code></div></pre>
<!-- --><p><strong>Regla práctica<!-- --></strong>:<!-- --></p>
<!-- --><ul>
<!-- --><li>Si tu aplicación <!-- --><strong>es distribuida<!-- --></strong> y necesitas <!-- --><strong>consistencia entre nodos<!-- --></strong>, usa <!-- --><strong>Redis<!-- --></strong>.<!-- --></li>
<!-- --><li>Si es <!-- --><strong>single-instance<!-- --></strong> y buscas <!-- --><strong>velocidad máxima<!-- --></strong>, usa <!-- --><strong>Caffeine<!-- --></strong>.<!-- --></li>
<!-- --></ul>
<!-- --><hr/>
<!-- --><h2>✅ Implementación en Spring Boot<!-- --></h2>
<!-- --><h3><strong>Caffeine<!-- --></strong></h3>
<!-- --><p>Dependencia Maven:<!-- --></p>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-xml" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">dependency<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">groupId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>com.github.ben-manes.caffeine<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">groupId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">artifactId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>caffeine<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">artifactId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">dependency<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span></code></div></pre>
<!-- --><h3><strong>Configuración:<!-- --></strong></h3>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-java" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token annotation" style="color:#f8f8f2">@Bean<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">CacheManager<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">cacheManager<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#8be9fd">return<!-- --></span><span> <!-- --></span><span class="token" style="color:#8be9fd">new<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">CaffeineCacheManager<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;usuarios&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></pre>
<!-- --><h3><strong>Uso en un servicio:<!-- --></strong></h3>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-java" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token annotation" style="color:#f8f8f2">@Cacheable<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#50fa7b">&quot;usuarios&quot;<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">Usuario<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">obtenerUsuario<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f1fa8c">Long<!-- --></span><span> id<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#8be9fd">return<!-- --></span><span> repository<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">findById<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span>id<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">orElseThrow<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></pre>
<!-- --><h2><strong>Redis<!-- --></strong></h2>
<!-- --><h3>Dependencia Maven:<!-- --></h3>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-xml" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">dependency<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">groupId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>org.springframework.boot<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">groupId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#f8f8f2">&lt;<!-- --></span><span class="token" style="color:#ff79c6">artifactId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>spring-boot-starter-data-redis<!-- --></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">artifactId<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">&lt;/<!-- --></span><span class="token" style="color:#ff79c6">dependency<!-- --></span><span class="token" style="color:#f8f8f2">&gt;<!-- --></span></code></div></pre>
<!-- --><h2>Configuración application.yml:<!-- --></h2>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-yml" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token key" style="color:#f1fa8c">spring<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span>
<!-- --></span><span>  <!-- --></span><span class="token key" style="color:#f1fa8c">redis<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token key" style="color:#f1fa8c">host<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> localhost
<!-- --></span><span>    <!-- --></span><span class="token key" style="color:#f1fa8c">port<!-- --></span><span class="token" style="color:#f8f8f2">:<!-- --></span><span> <!-- --></span><span class="token" style="color:#bd93f9">6379<!-- --></span></code></div></pre>
<!-- --><h3>Bean:<!-- --></h3>
<!-- --><pre><div style="color:#f8f8f2;background:#282a36;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em"><code class="language-java" style="color:#f8f8f2;background:none;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Consolas, Monaco, &#x27;Andale Mono&#x27;, &#x27;Ubuntu Mono&#x27;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token annotation" style="color:#f8f8f2">@Bean<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#8be9fd">public<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">RedisCacheManager<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">cacheManager<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f1fa8c">RedisConnectionFactory<!-- --></span><span> factory<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span> <!-- --></span><span class="token" style="color:#f8f8f2">{<!-- --></span><span>
<!-- --></span><span>    <!-- --></span><span class="token" style="color:#8be9fd">return<!-- --></span><span> <!-- --></span><span class="token" style="color:#f1fa8c">RedisCacheManager<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">builder<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span>factory<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">.<!-- --></span><span class="token" style="color:#f1fa8c">build<!-- --></span><span class="token" style="color:#f8f8f2">(<!-- --></span><span class="token" style="color:#f8f8f2">)<!-- --></span><span class="token" style="color:#f8f8f2">;<!-- --></span><span>
<!-- --></span><span></span><span class="token" style="color:#f8f8f2">}<!-- --></span></code></div></pre>
<!-- --><h3>✅ Estrategias y patrones de caching<!-- --></h3>
<!-- --><p>Cache-aside: Carga desde DB cuando el cache no tiene el dato.<!-- --></p>
<!-- --><p>Write-through: Escribe en cache y DB al mismo tiempo.<!-- --></p>
<!-- --><p>Read-through: La aplicación siempre lee desde el cache.<!-- --></p>
<!-- --><p>TTL y Expiración: Define políticas de caducidad según el caso.<!-- --></p>
<!-- --><h3>✅ Pros y contras<!-- --></h3>
<!-- --><p>Redis<!-- --></p>
<!-- --><p>✔ Distribuido y escalable
✔ Compatible con microservicios
✖ Requiere infraestructura extra
✖ Latencia mayor que en memoria local<!-- --></p>
<!-- --><p>Caffeine<!-- --></p>
<!-- --><p>✔ Extremadamente rápido
✔ Fácil de implementar
✖ Solo para una JVM
✖ Sin persistencia<!-- --></p>
<!-- --><h3>✅ Buenas prácticas<!-- --></h3>
<!-- --><p>Define políticas de expiración claras.<!-- --></p>
<!-- --><p>Evita cachear datos altamente volátiles.<!-- --></p>
<!-- --><p>Monitorea tasa de aciertos (hit ratio).<!-- --></p>
<!-- --><p>Usa caching inteligente en endpoints críticos.<!-- --></p>
<!-- --><h3>✅ Conclusión<!-- --></h3>
<!-- --><p>No existe un único ganador:<!-- --></p>
<!-- --><p>Usa Caffeine para rendimiento ultra rápido en una sola instancia.<!-- --></p>
<!-- --><p>Usa Redis para sistemas distribuidos que necesitan consistencia.<!-- --></p>
<!-- --><p>¿Lo mejor? Combinarlos:<!-- --></p>
<!-- --><p>Caffeine para cache local.<!-- --></p>
<!-- --><p>Redis como capa distribuida.<!-- --></p>
<!-- --><p>🔥 Así logras velocidad y consistencia sin compromisos.<!-- --></p></div><div class="mt-5 laptop:mt-40 p-2 laptop:p-0"><div><h1 class="text-2xl text-bold">Contact.</h1><div class="mt-10"><h1 class="text-3xl tablet:text-6xl laptop:text-6xl laptopl:text-8xl text-bold">LET&#x27;S WORK TOGETHER</h1><h1 class="text-3xl tablet:text-6xl laptop:text-6xl laptopl:text-8xl text-bold"></h1><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg bg-black text-white  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Schedule a call</button><div class="mt-10"><div class="undefined flex flex-wrap mob:flex-nowrap link"><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Github</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">LinkedIn</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Twitter</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Blog</button><button type="button" class="text-sm tablet:text-base p-1 laptop:p-2 m-1 laptop:m-2 rounded-lg hover:bg-slate-100  transition-all duration-300 ease-out hover:scale-105 active:scale-100 cursor-none undefined">Email</button></div></div></div></div></div><h1 class="text-sm text-bold mt-2 laptop:mt-10 p-2 laptop:p-0">Made With ❤ by<!-- --> <!-- --><a class="underline underline-offset-1" href="https://jaoportfolio.onrender.com/">Juan Arana Olalde</a></h1></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"date":"2025-08-29T17:00:00.000Z","slug":"redis-caffeine","preview":"Descubre las diferencias entre Redis y Caffeine, cuándo usar cada uno, ejemplos prácticos, patrones de diseño y buenas prácticas para caching eficiente en sistemas modernos.","title":"Estrategias de Caché con Redis y Caffeine","tagline":"Optimiza el rendimiento de tus aplicaciones con cachés en memoria y distribuidas","image":"/images/blogs/redis-caffeine.jpg","content":"# Estrategias de Caché con Redis y Caffeine: Cuándo, Cómo y Por Qué ⚡\r\n\r\nEn aplicaciones modernas, **el rendimiento lo es todo**. Si tu API consulta la base de datos en cada request, tarde o temprano tendrás problemas de latencia, escalabilidad y costos.  \r\nAquí es donde entran **las estrategias de caché**.\r\n\r\nEn este artículo aprenderás:\r\n\r\n✅ **Qué son Redis y Caffeine**  \r\n✅ **Cuándo usar uno u otro**  \r\n✅ **Patrones y ejemplos prácticos**  \r\n✅ **Pros y contras**  \r\n✅ **Buenas prácticas**  \r\n\r\n---\r\n\r\n## ✅ ¿Por qué usar caché?\r\n\r\n- **Reduce la latencia**: Las respuestas son mucho más rápidas.\r\n- **Menos carga en la base de datos**: Alivia los cuellos de botella.\r\n- **Mejor experiencia de usuario**: Tiempo de respuesta consistente.\r\n\r\n---\r\n\r\n## ✅ Opciones populares: Redis vs Caffeine\r\n\r\n### **Redis**  \r\n- Caché **distribuido** en memoria.\r\n- Ideal para **escalabilidad horizontal**.\r\n- Permite **persistencia opcional**.\r\n- Compatible con estructuras complejas (listas, sets, pub/sub).\r\n\r\n✅ **Casos de uso**:  \r\n- Microservicios distribuidos.  \r\n- Aplicaciones con múltiples instancias.  \r\n- Datos compartidos entre servidores.  \r\n\r\n---\r\n\r\n### **Caffeine**  \r\n- Caché **en memoria local** (dentro de la JVM).\r\n- Basado en **ConcurrentHashMap + políticas LRU/W-TinyLFU**.\r\n- Ultra rápido para **lecturas en la misma instancia**.\r\n\r\n✅ **Casos de uso**:  \r\n- Monolitos o microservicios con **bajo escalado horizontal**.\r\n- Datos de alta frecuencia y bajo costo de regeneración.\r\n- Evitar latencia de red.\r\n\r\n---\r\n\r\n## ✅ ¿Cuándo usar Redis y cuándo Caffeine?\r\n```text\r\n| Criterio               | Redis                                  | Caffeine                              |\r\n|------------------------|---------------------------------------|--------------------------------------|\r\n| **Escalabilidad**      | Alta (distribuido)                   | Limitada a una JVM                  |\r\n| **Consistencia**       | Compartido entre instancias          | Solo local                          |\r\n| **Latencia**           | Mayor (requiere red)                 | Bajísima (in-memory)                |\r\n| **Persistencia**       | Opcional (RDB, AOF)                  | No                                  |\r\n| **Complejidad**        | Requiere instalación/configuración    | Muy fácil (dependencia Maven)       |\r\n```\r\n\r\n**Regla práctica**:  \r\n- Si tu aplicación **es distribuida** y necesitas **consistencia entre nodos**, usa **Redis**.  \r\n- Si es **single-instance** y buscas **velocidad máxima**, usa **Caffeine**.\r\n\r\n---\r\n\r\n## ✅ Implementación en Spring Boot\r\n\r\n### **Caffeine**\r\nDependencia Maven:\r\n```xml\r\n\u003cdependency\u003e\r\n    \u003cgroupId\u003ecom.github.ben-manes.caffeine\u003c/groupId\u003e\r\n    \u003cartifactId\u003ecaffeine\u003c/artifactId\u003e\r\n\u003c/dependency\u003e\r\n```\r\n\r\n### **Configuración:**\r\n```java\r\n@Bean\r\npublic CacheManager cacheManager() {\r\n    return new CaffeineCacheManager(\"usuarios\");\r\n}\r\n```\r\n### **Uso en un servicio:**\r\n```java\r\n@Cacheable(\"usuarios\")\r\npublic Usuario obtenerUsuario(Long id) {\r\n    return repository.findById(id).orElseThrow();\r\n}\r\n```\r\n\r\n## **Redis**\r\n\r\n### Dependencia Maven:\r\n```xml\r\n\u003cdependency\u003e\r\n    \u003cgroupId\u003eorg.springframework.boot\u003c/groupId\u003e\r\n    \u003cartifactId\u003espring-boot-starter-data-redis\u003c/artifactId\u003e\r\n\u003c/dependency\u003e\r\n```\r\n## Configuración application.yml:\r\n```yml\r\nspring:\r\n  redis:\r\n    host: localhost\r\n    port: 6379\r\n```\r\n### Bean:\r\n```java\r\n@Bean\r\npublic RedisCacheManager cacheManager(RedisConnectionFactory factory) {\r\n    return RedisCacheManager.builder(factory).build();\r\n}\r\n```\r\n\r\n### ✅ Estrategias y patrones de caching\r\n\r\nCache-aside: Carga desde DB cuando el cache no tiene el dato.\r\n\r\nWrite-through: Escribe en cache y DB al mismo tiempo.\r\n\r\nRead-through: La aplicación siempre lee desde el cache.\r\n\r\nTTL y Expiración: Define políticas de caducidad según el caso.\r\n\r\n### ✅ Pros y contras\r\nRedis\r\n\r\n✔ Distribuido y escalable\r\n✔ Compatible con microservicios\r\n✖ Requiere infraestructura extra\r\n✖ Latencia mayor que en memoria local\r\n\r\nCaffeine\r\n\r\n✔ Extremadamente rápido\r\n✔ Fácil de implementar\r\n✖ Solo para una JVM\r\n✖ Sin persistencia\r\n\r\n### ✅ Buenas prácticas\r\n\r\nDefine políticas de expiración claras.\r\n\r\nEvita cachear datos altamente volátiles.\r\n\r\nMonitorea tasa de aciertos (hit ratio).\r\n\r\nUsa caching inteligente en endpoints críticos.\r\n\r\n### ✅ Conclusión\r\n\r\nNo existe un único ganador:\r\n\r\nUsa Caffeine para rendimiento ultra rápido en una sola instancia.\r\n\r\nUsa Redis para sistemas distribuidos que necesitan consistencia.\r\n\r\n¿Lo mejor? Combinarlos:\r\n\r\nCaffeine para cache local.\r\n\r\nRedis como capa distribuida.\r\n\r\n🔥 Así logras velocidad y consistencia sin compromisos.\r\n"}},"__N_SSG":true},"page":"/blog/[slug]","query":{"slug":"redis-caffeine"},"buildId":"85iiyWBTsq_-PTvkwEU47","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>