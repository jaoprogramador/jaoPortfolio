<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Manejo de cursores Oracle</title>
<META http-equiv=Content-Language content=es>
<META content="Programación,Programas,Aplicaciones,Ejercicios, Ejemplos,Tutoriales,Manuales" name=description>
<meta name="keywords" content="Manual Oracle, Tutorial Oracle, Manual SQL, Tutorial SQL, Ejercicios Oracle">
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<META content=euskalnet.net/jaoprogramador name=author>
<META content="Copyright (c) 2005 jaoprogramador" name=copyright>
<META scheme=RFC1766 content=español name=DC.Language>
<META content=es,sp,spanish,español name=lang>
<META content=all name=robots>
<link href="../../styles/estilos.css" rel="stylesheet" type="text/css">
</head>

<body>
<table class="tablaContenidos">
  <tr> 
    <td height="39" colspan="2"> <h2>Manejo 
        de cursores</h2></td>
  </tr>
  <tr> 
    <td height="197" colspan="2"><p>El conjunto de filas resultantes de una consulta 
        con la sentencia SELECT, como vimos anteriormente, puede estar compuesto 
        por ninguna, una a varias filas, dependiendo de la condici&oacute;n que 
        define la consulta. Para poder procesar individualmente cada fila de la 
        consulta debemos definir un cursor (que es un &aacute;rea de trabajo de 
        memoria) que contiene los datos de las filas de la tabla consultada por 
        la sentencia SELECT.</p>
      <p>Los pasos para el manejo de cursores, tema novedoso en la programaci&oacute;n 
        de oracle con PL/SQL, son: 
      <blockquote> 
        <p>- Definir el cursor, especificando la lista de par&aacute;metros, con 
          sus correspondientes tipos de datos y estableciendo la consulta a realizar 
          con la sentencia SELECT.
          - Abrir el cursor para inicializarlo, siendo &eacute;ste el momento 
          en que se realiza la consulta.
          - Leer una fila del cursor, pasando sus datos a las variables locales 
          definidas a tal efecto.
          - Repetir el proceso fila a fila hasta llegar a la &uacute;ltima.
          - Serrar el cursor una vez que &eacute;ste se termin&oacute; de procesar 
          su &uacute;ltima fila. </p>
      </blockquote>
      <p>A continuaci&oacute;n veremos un ejemplo de cursor con las siguientes 
        caracter&iacute;sticas:</p>
      <table width="94%" >
        <tr> 
          <td width="17%">Objetivo:</td>
          <td width="83%">Consultar las ventas de una fecha dada ordenadas de 
            mayor a menor.</td>
        </tr>
        <tr> 
          <td>Nombre:</td>
          <td>CVENTAS</td>
        </tr>
        <tr> 
          <td>Par&aacute;metros:</td>
          <td>cfecha, variable que contiene la fecha a consultar.</td>
        </tr>
        <tr> 
          <td colspan="2">C&oacute;digo de definici&oacute;n del cursor:</td>
        </tr>
      </table>
      <pre>DECLARE CURSOR cventas(cfecha DATE)
	               IS
				   SELECT articulo, valor
				   FROM ventas
				   WHERE fecha=cfecha
				   ORDER BY valor DESC;
	  </pre></p>
    </td>
  </tr>
  <tr> 
    <td width="70" height="18"></td>
    <td height="18"> <div align="right"><a href="../index.htm" target="_parent">&lt;&lt;Men&uacute; 
        Inicio</a></div></td>
  </tr>
</table>
<p>&nbsp;</p>
</body>
</html>
