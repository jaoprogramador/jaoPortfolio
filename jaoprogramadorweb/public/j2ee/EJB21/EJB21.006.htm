<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>LIntroducci&amp;oacute;n a EJB 2.1</title>
<META http-equiv=Content-Language content=es>
<META content="Programación en EJB 2.1,Programas EJB 2.1,Aplicaciones en EJB 2.1,Ejercicios en EJB 2.1, Ejemplos de EJB 2.1,Tutorial de EJB 2.1,Manual EJB 2.1" name=description>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<meta name="keywords" content="EJB 2.1, Manual EJB 2.1, tutorial EJB 2.1, Ejemplos EJB 2.1, ejercicios EJB 2.1">
<META content=euskalnet.net/jaoprogramador name=author>
<META content="Copyright (c) 2005 jaoprogramador" name=copyright>
<META scheme=RFC1766 content=español name=DC.Language>
<META content=es,sp,spanish,español name=lang>
<META content=all name=robots>
<link href="../../styles/estilos.css" rel="stylesheet" type="text/css">
</head>

<body>
<table class="tablaContenidos">

  <tr> 
    <td height="39" colspan="3"> <h2> <strong>Ejemplo de Enterprise JavaBeans (EJB)</strong></h2></td>
  </tr>
  <tr> 
    <td height="258" colspan="3"> <p>Vamos a ver un diagrama para no perder la visión de conjunto. 
    	Lo haremos ayudándonos de un ejemplo en el que la clase AccountEJB representa al Bean de una cuenta.
    	<img src="..\imagenes\ejb21\diagrama.gif"/>
    	En el código fuente del cliente se refleja estas relaciones con los elementos del EJB. Para simplificar el cliente es una sencilla aplicación Java en modo texto. Importa recalcar que el cliente accede al Bean por medio de referencias del interfaz remoto (Account).

import java.util.*;
import javax.naming.Context;
import javax.naming.InitialContext;
import javax.rmi.PortableRemoteObject;

public class AccountClient {

   public static void main(String[] args) {

       try {
	   ////// Creo un contexto
           Context initial = new InitialContext();
           Object objref = initial.lookup("MyAccount");

	   ////// Para obtener un interfaz Home
           AccountHome home = 
               (AccountHome)PortableRemoteObject.narrow(objref, 
                                            AccountHome.class);

	   ////// Crea los Beans, referenciados por su interfaz remoto o "vista del bean" (Account)
           Account duke = home.create("123", "Duke", "Earl", 0.00);

	   ////// Accedo al Bean por medio del interfaz remoto
           duke.credit(88.50);
           duke.debit(20.25);
           double balance = duke.getBalance();
           System.out.println("balance = " + String.valueOf(balance));
           duke.remove();
           ....

      </p>
      </td>
  </tr>
  <tr> 
    <td width="66" height="21"></td>
    <td width="324" height="21">&nbsp;</td>
    <td width="149"><div align="right"><a href="../index.htm" target="_parent">&lt;&lt;Men&uacute; 
        Inicio</a></div></td>
  </tr>
</table>
<p>&nbsp;</p>
</body>
</html>
